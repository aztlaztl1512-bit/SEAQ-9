<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø­Ù‚ÙŠØ¨Ø© Ø§Ù„Ù‚Ø¯Ø±Ø§Øª (Ø§Ù„Ø®Ø·Ø£ Ø§Ù„Ø³ÙŠØ§Ù‚ÙŠ 9) - Ø£/ Ø¹Ø¨Ø¯Ø§Ù„Ø¹Ø²ÙŠØ² Ø§Ù„ÙÙŠÙÙŠ</title>
    <style>
        :root { 
            --primary: #1a237e; --secondary: #37474f; --accent: #ffab00; 
            --bg: #f4f7f6; --white: #ffffff; --correct: #2e7d32; --wrong: #c62828;
        }
        body { font-family: 'Segoe UI', Tahoma, sans-serif; background: var(--bg); display: flex; justify-content: center; padding: 20px; line-height: 1.6; color: #333; font-weight: 400; }
        .quiz-card { background: var(--white); width: 100%; max-width: 950px; border-radius: 25px; box-shadow: 0 10px 40px rgba(0,0,0,0.1); border-top: 15px solid var(--primary); padding: 30px; position: relative; }
        .header { text-align: center; border-bottom: 2px solid #eee; margin-bottom: 25px; padding-bottom: 15px; }
        .info-bar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .student-badge { background: #e8eaf6; color: var(--primary); padding: 10px 20px; border-radius: 50px; font-weight: 500; border: 2px solid var(--primary); font-size: 0.9rem; }
        .timer-container { background: var(--secondary); color: white; padding: 10px 25px; border-radius: 50px; font-weight: 500; font-size: 1rem; transition: all 0.3s ease; }
        .timer-pulse { background: var(--wrong) !important; animation: pulse-animation 0.6s infinite alternate; }
        @keyframes pulse-animation { from { transform: scale(1); } to { transform: scale(1.1); } }
        .options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin: 20px 0; }
        .option { padding: 16px; border: 2px solid #f0f0f0; border-radius: 15px; cursor: pointer; transition: 0.3s; font-weight: 500; background: #fafafa; font-size: 1rem; text-align: center; }
        .option:hover { border-color: var(--primary); background: #fdf7ff; transform: translateY(-2px); }
        .correct-opt { background: var(--correct) !important; color: white; border-color: var(--correct) !important; }
        .wrong-opt { background: var(--wrong) !important; color: white; border-color: var(--wrong) !important; }
        .feedback-box { margin-top: 20px; padding: 25px; border-radius: 15px; background: #fffde7; border-right: 10px solid var(--accent); display: none; font-size: 1rem; }
        .btn { background: var(--secondary); color: white; padding: 16px 45px; border: none; border-radius: 12px; cursor: pointer; font-size: 1.1rem; font-weight: 500; transition: 0.3s; }
        .btn:hover { background: var(--primary); }
        .result-table { width: 100%; border-collapse: collapse; margin-top: 25px; background: white; font-size: 0.85rem; }
        .result-table th { background: var(--primary); color: white; padding: 12px; }
        .result-table td { border: 1px solid #ddd; padding: 10px; text-align: center; }
        .hidden { display: none; }
        .locked { text-align: center; color: red; padding: 50px; border: 5px solid red; border-radius: 20px; background: white; }
    </style>
</head>
<body id="main-body">

<div class="quiz-card" id="quiz-container">
    <div class="header">
        <h3 id="author-name">âœ¨ Ø£ / Ø¹Ø¨Ø¯Ø§Ù„Ø¹Ø²ÙŠØ² Ø§Ù„ÙÙŠÙÙŠ - Ø«Ø§Ù†ÙˆÙŠØ© Ø§Ù„Ø£Ù…ÙŠØ± Ø¹Ø¨Ø¯Ø§Ù„Ù…Ø¬ÙŠØ¯ ğŸ“</h3>
        <h2 id="quiz-title">Ø§Ù„Ø®Ø·Ø£ Ø§Ù„Ø³ÙŠØ§Ù‚ÙŠ - Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…Ø§Ø³ÙŠ (9)</h2>
    </div>

    <div id="start-page" style="text-align: center;">
        <p style="font-size: 1.1rem; margin-bottom: 20px;">â±ï¸ 45 Ø«Ø§Ù†ÙŠØ© Ù„Ù„Ø³Ø¤Ø§Ù„ | ğŸ”€ Ø®Ù„Ø· Ø¹Ø´ÙˆØ§Ø¦ÙŠ ÙƒØ§Ù…Ù„ | ğŸ’¡ ØªØ³Ø±ÙŠØ¨Ø§Øª Ù…Ø­Ø¯Ø«Ø©</p>
        <input type="text" id="studentNameInput" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ Ù„Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ø¯ÙŠ..." style="width: 75%; padding: 15px; border-radius: 10px; border: 2px solid #ccc; text-align: center; font-size: 1rem; margin-bottom: 20px;">
        <br><button class="btn" onclick="startQuizAction()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ğŸš€</button>
    </div>

    <div id="quiz-page" class="hidden">
        <div class="info-bar">
            <div id="current-student-display" class="student-badge"></div>
            <div id="timer-box" class="timer-container">â³ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: <span id="timer-val">45</span> Ø«Ø§Ù†ÙŠØ©</div>
        </div>
        <div id="progress-text" style="font-weight: 500; color: var(--primary); margin-bottom: 10px; font-size: 0.9rem;"></div>
        <div id="question-display" style="font-size: 1.4rem; text-align: right; margin: 25px 0; font-weight: 500; color: #333; background: #f9f9f9; padding: 25px; border-radius: 20px; border: 1px solid #eee;"></div>
        <div id="options-container" class="options-grid"></div>
        <div id="feedback-display" class="feedback-box"></div>
        <div style="text-align: center; margin-top: 30px;">
            <button id="next-btn" class="btn hidden" onclick="loadNextQuestion()">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ â®•</button>
        </div>
    </div>

    <div id="result-page" class="hidden">
        <div style="text-align: center; padding: 25px; background: #e8eaf6; border-radius: 20px; border: 3px solid var(--primary); margin-bottom: 25px;">
            <h1 id="score-display" style="color: var(--primary); margin:0; font-size: 2.5rem;"></h1>
            <h2 id="final-student-name" style="color: var(--secondary); margin-top: 10px; font-size: 1.2rem;"></h2>
        </div>
        <table class="result-table">
            <thead>
                <tr>
                    <th>Ø§Ù„Ø³Ø¤Ø§Ù„</th>
                    <th>Ø¥Ø¬Ø§Ø¨ØªÙƒ</th>
                    <th>Ø§Ù„ØµØ­ÙŠØ­Ø©</th>
                </tr>
            </thead>
            <tbody id="summary-body"></tbody>
        </table>
        <div style="text-align: center; margin-top: 30px;">
            <button class="btn" onclick="location.reload()">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ğŸ”€</button>
        </div>
    </div>
</div>

<script>
    (function protect() {
        const teacher = "Ø¹Ø¨Ø¯Ø§Ù„Ø¹Ø²ÙŠØ² Ø§Ù„ÙÙŠÙÙŠ";
        setInterval(() => {
            const auth = document.getElementById('author-name');
            if (!auth || !auth.innerText.includes(teacher)) {
                document.getElementById('main-body').innerHTML = '<div class="locked"><h1>âš ï¸ Ø®Ø±Ù‚ Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ù…Ù„ÙƒÙŠØ©</h1><p>Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù…Ù„ Ù…Ù„Ùƒ Ù„Ù„Ø£Ø³ØªØ§Ø° Ø¹Ø¨Ø¯Ø§Ù„Ø¹Ø²ÙŠØ² Ø§Ù„ÙÙŠÙÙŠ.</p></div>';
            }
        }, 3000);
    })();

    const masterPool = [
        { q: "Ø§Ù„Ø£Ù…Ù… ØªÙ…Ø± Ø¨Ù„Ø­Ø¸Ø§Øª Ø­Ø±Ø¬Ø©ØŒ ÙˆØ§Ù„ØµÙ…ÙˆØ¯ Ù‡Ùˆ Ø§Ù„Ø°ÙŠ ÙŠØ­Ø¯Ø¯ Ù‚ÙˆØªÙ‡Ø§ Ø£Ùˆ ØªØ±Ø§Ø¬Ø¹Ù‡Ø§.", opts: ["Ø§Ù„Ø£Ù…Ù…", "Ø­Ø±Ø¬Ø©", "Ø§Ù„ØµÙ…ÙˆØ¯", "ØªØ±Ø§Ø¬Ø¹Ù‡Ø§"], a: "ØªØ±Ø§Ø¬Ø¹Ù‡Ø§", explain: "Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø®Ø§Ø·Ø¦Ø© (ØªØ±Ø§Ø¬Ø¹Ù‡Ø§)Ø› Ù„Ø£Ù† Ø§Ù„Ø³ÙŠØ§Ù‚ ÙŠÙ‚Ø§Ø±Ù† Ø¨ÙŠÙ† Ø®ÙŠØ§Ø±ÙŠÙ† Ø¹Ù†Ø¯ Ø§Ù„ØµÙ…ÙˆØ¯ØŒ ÙØ§Ù„ØªØµØ­ÙŠØ­: (Ø£Ùˆ ÙÙ†Ø§Ø¦Ù‡Ø§/Ø³Ù‚ÙˆØ·Ù‡Ø§) Ù„Ø£Ù† Ø§Ù„Ù‚ÙˆØ© Ø¹ÙƒØ³ Ø§Ù„ØªØ±Ø§Ø¬Ø¹ ÙˆÙ„ÙŠØ³ Ø§Ù„ØµÙ…ÙˆØ¯." },
        { q: "Ù…Ù† ØºÙÙ„ Ø¹Ù† Ù†ÙØ³Ù‡ Ø®Ø³Ø±ØŒ ÙˆÙ…Ù† ØµØ¨Ø± Ø¹Ù„Ù‰ Ø¹Ø¯ÙˆÙ‡ ÙØ§Ø².", opts: ["ØºÙÙ„", "Ø®Ø³Ø±", "ØµØ¨Ø±", "ÙØ§Ø²"], a: "ØµØ¨Ø±", explain: "Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø®Ø§Ø·Ø¦Ø© (ØµØ¨Ø±)Ø› Ù„Ø£Ù† Ø§Ù„Ø­ÙƒÙ…Ø© Ø§Ù„ØªØ±Ø¨ÙˆÙŠØ© ØªØ±ÙƒØ² Ø¹Ù„Ù‰ Ù…Ø¬Ø§Ù‡Ø¯Ø© Ø§Ù„Ù†ÙØ³ØŒ ÙØ§Ù„ØªØµØ­ÙŠØ­: (ÙˆÙ…Ù† ØºÙ„Ø¨ Ù‡ÙˆØ§Ù‡ ÙØ§Ø²)." },
        { q: "Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª Ø§Ù„ÙƒØ¨ÙŠØ±Ø© Ù„Ø§ ØªØªØ­Ù‚Ù‚ Ø¥Ù„Ø§ Ø¨Ø§Ù„ØªØ¹Ø§ÙˆÙ†ØŒ ÙˆØ§Ù„Ù†Ø¬Ø§Ø­ Ø§Ù„ÙØ±Ø¯ÙŠ Ù‡Ùˆ Ø£Ø³Ø§Ø³ Ø§Ù„Ø­Ø¶Ø§Ø±Ø§Øª.", opts: ["Ø§Ù„ÙƒØ¨ÙŠØ±Ø©", "Ø§Ù„ØªØ¹Ø§ÙˆÙ†", "Ø§Ù„ÙØ±Ø¯ÙŠ", "Ø§Ù„Ø­Ø¶Ø§Ø±Ø§Øª"], a: "Ø§Ù„ÙØ±Ø¯ÙŠ", explain: "Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø®Ø§Ø·Ø¦Ø© (Ø§Ù„ÙØ±Ø¯ÙŠ)Ø› Ù„Ø£Ù† Ø§Ù„Ø­Ø¶Ø§Ø±Ø§Øª ØªÙØ¨Ù†Ù‰ Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù…Ù„ (Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠ) ÙˆØ§Ù„ØªØ¹Ø§ÙˆÙ† ÙƒÙ…Ø§ ÙˆØ±Ø¯ ÙÙŠ ØµØ¯Ø± Ø§Ù„Ø¬Ù…Ù„Ø©." },
        { q: "Ø§Ù„Ø§Ø¨ØªØ³Ø§Ù…Ø© Ù„ØºØ© Ù…ÙÙ‡ÙˆÙ…Ø©ØŒ ÙˆÙ‡ÙŠ Ø£Ù‚ØµØ± Ø·Ø±ÙŠÙ‚ Ø¨ÙŠÙ† Ø´Ø®ØµÙŠÙ† Ù…ØªØ¨Ø§Ø¹Ø¯ÙŠÙ†.", opts: ["Ù…ÙÙ‡ÙˆÙ…Ø©", "Ø£Ù‚ØµØ±", "Ø´Ø®ØµÙŠÙ†", "Ù…ØªØ¨Ø§Ø¹Ø¯ÙŠÙ†"], a: "Ù…ØªØ¨Ø§Ø¹Ø¯ÙŠÙ†", explain: "Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø®Ø§Ø·Ø¦Ø© (Ù…ØªØ¨Ø§Ø¹Ø¯ÙŠÙ†)Ø› ÙØ§Ù„ØªØµØ­ÙŠØ­ Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠ Ù‡Ùˆ (Ù…ØªØ®Ø§ØµÙ…ÙŠÙ†) Ù„Ø¨ÙŠØ§Ù† Ø£Ø«Ø± Ø§Ù„Ø§Ø¨ØªØ³Ø§Ù…Ø© ÙÙŠ Ø§Ù„ØµÙ„Ø­." },
        { q: "Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª Ø§Ù„Ø¥Ù†Ø³Ø§Ù†ÙŠØ© ØªØ¨Ù†Ù‰ Ø¹Ù„Ù‰ Ø§Ù„Ù…ØµÙ„Ø­Ø©ØŒ ÙˆØ§Ù„ÙˆÙØ§Ø¡ Ù‡Ùˆ Ù…Ø¬Ø±Ø¯ Ø®ÙŠØ§Ù„.", opts: ["Ø§Ù„Ø¥Ù†Ø³Ø§Ù†ÙŠØ©", "Ø§Ù„Ù…ØµÙ„Ø­Ø©", "Ø§Ù„ÙˆÙØ§Ø¡", "Ø®ÙŠØ§Ù„"], a: "Ø®ÙŠØ§Ù„", explain: "Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø®Ø§Ø·Ø¦Ø© (Ø®ÙŠØ§Ù„)Ø› Ù„Ø£Ù† Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª Ø§Ù„Ø³Ø§Ù…ÙŠØ© ØªØ¨Ù†Ù‰ Ø¹Ù„Ù‰ Ø§Ù„ÙˆÙØ§Ø¡ØŒ ÙˆØ§Ù„ØªØµØ­ÙŠØ­ (ÙˆØ§Ù„ÙˆÙØ§Ø¡ Ù‡Ùˆ Ø£Ø³Ø§Ø³Ù‡Ø§)." },
        { q: "Ø§Ù„Ø¬Ù‡Ù„ Ø®ÙŠØ± Ù…Ù† Ø¹Ù„Ù… ÙŠØ¶Ø± ØµØ§Ø­Ø¨Ù‡.", opts: ["Ø§Ù„Ø¬Ù‡Ù„", "Ø®ÙŠØ±", "ÙŠØ¶Ø±", "ØµØ§Ø­Ø¨Ù‡"], a: "Ø§Ù„Ø¬Ù‡Ù„", explain: "Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø®Ø§Ø·Ø¦Ø© (Ø§Ù„Ø¬Ù‡Ù„)Ø› ÙØ§Ù„ØªØµØ­ÙŠØ­ (Ø§Ù„ØªÙˆØ§Ø¶Ø¹) Ø£Ùˆ (Ø§Ù„ØªÙ‚ÙˆÙ‰)ØŒ Ù„Ø£Ù† Ø§Ù„Ø¬Ù‡Ù„ Ù„ÙŠØ³ Ø®ÙŠØ±Ø§Ù‹ ÙÙŠ Ø£ÙŠ Ø­Ø§Ù„." },
        { q: "Ù…Ù† Ø£Ø±Ø§Ø¯ Ø£Ù† ÙŠÙƒÙˆÙ† ØµØ§Ø¯Ù‚Ø§Ù‹ØŒ ÙÙ„ÙŠØµØ¯Ù‚ ÙÙŠ Ø£ÙØ¹Ø§Ù„Ù‡ Ù‚Ø¨Ù„ Ø£Ù‚ÙˆØ§Ù„Ù‡ Ø§Ù„Ø³ÙŠØ¦Ø©.", opts: ["ØµØ§Ø¯Ù‚Ø§Ù‹", "Ø£ÙØ¹Ø§Ù„Ù‡", "Ø£Ù‚ÙˆØ§Ù„Ù‡", "Ø§Ù„Ø³ÙŠØ¦Ø©"], a: "Ø§Ù„Ø³ÙŠØ¦Ø©", explain: "Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø®Ø§Ø·Ø¦Ø© (Ø§Ù„Ø³ÙŠØ¦Ø©)Ø› ÙØ§Ù„ØµØ§Ø¯Ù‚ ÙŠØµØ¯Ù‚ ÙÙŠ Ø£Ù‚ÙˆØ§Ù„Ù‡ (Ø§Ù„Ø­Ø³Ù†Ø©) Ø£Ùˆ (Ø§Ù„Ø¬Ù…ÙŠÙ„Ø©) Ù„ØªØ·Ø§Ø¨Ù‚ Ø£ÙØ¹Ø§Ù„Ù‡." },
        { q: "Ø§Ù„Ù‚Ù…Ø© Ù…ÙƒØ§Ù† Ù…Ø²Ø¯Ø­Ù…ØŒ Ù„Ø°Ø§ ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ Ø§Ù„ØªÙ…ÙŠØ² Ù„ØªØµÙ„ Ø¥Ù„ÙŠÙ‡Ø§.", opts: ["Ø§Ù„Ù‚Ù…Ø©", "Ù…Ø²Ø¯Ø­Ù…", "Ø§Ù„ØªÙ…ÙŠØ²", "ØªØµÙ„"], a: "Ù…Ø²Ø¯Ø­Ù…", explain: "Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø®Ø§Ø·Ø¦Ø© (Ù…Ø²Ø¯Ø­Ù…)Ø› ÙØ§Ù„Ù…Ø¹Ø±ÙˆÙ Ø£Ù† Ø§Ù„Ù‚Ù…Ø© (Ø®Ø§Ù„ÙŠØ©) ÙˆÙ„Ø§ ÙŠØµÙ„Ù‡Ø§ Ø¥Ù„Ø§ Ø§Ù„Ù…ØªÙ…ÙŠØ²ÙˆÙ†ØŒ Ø£Ù…Ø§ Ø§Ù„Ù‚Ø§Ø¹ ÙÙ‡Ùˆ Ø§Ù„Ù…Ø²Ø¯Ø­Ù…." },
        { q: "Ø§Ù„Ø¥Ø±Ø§Ø¯Ø© Ù‡ÙŠ Ø§Ù„Ù…Ø­Ø±Ùƒ Ø§Ù„Ø°ÙŠ ÙŠØ¯ÙØ¹Ù†Ø§ Ù„Ù„Ø®Ù„Ù Ø¹Ù†Ø¯Ù…Ø§ Ù†ÙˆØ§Ø¬Ù‡ Ø§Ù„Ø´Ø¯Ø§Ø¦Ø¯.", opts: ["Ø§Ù„Ø¥Ø±Ø§Ø¯Ø©", "Ø§Ù„Ù…Ø­Ø±Ùƒ", "Ù„Ù„Ø®Ù„Ù", "Ø§Ù„Ø´Ø¯Ø§Ø¦Ø¯"], a: "Ù„Ù„Ø®Ù„Ù", explain: "Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø®Ø§Ø·Ø¦Ø© (Ù„Ù„Ø®Ù„Ù)Ø› ÙØ§Ù„Ø¥Ø±Ø§Ø¯Ø© ØªØ¯ÙØ¹Ù†Ø§ (Ù„Ù„Ø£Ù…Ø§Ù…) Ø£Ùˆ Ù„Ù„Ù…ÙˆØ§Ø¬Ù‡Ø© ÙˆÙ„ÙŠØ³ Ù„Ù„Ø§Ù†Ø³Ø­Ø§Ø¨." },
        { q: "Ø§Ù„ØªÙˆØ§Ø¶Ø¹ ÙŠØ²ÙŠØ¯ ØµØ§Ø­Ø¨Ù‡ Ø±ÙØ¹Ø©ØŒ ÙˆØ§Ù„ØªÙƒØ¨Ø± ÙŠØ²ÙŠØ¯ ØµØ§Ø­Ø¨Ù‡ Ø°Ù„Ø§Ù‹ ÙˆØ¹Ø²Ø§Ù‹.", opts: ["Ø§Ù„ØªÙˆØ§Ø¶Ø¹", "Ø±ÙØ¹Ø©", "Ø°Ù„Ø§Ù‹", "ÙˆØ¹Ø²Ø§Ù‹"], a: "ÙˆØ¹Ø²Ø§Ù‹", explain: "Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø®Ø§Ø·Ø¦Ø© (ÙˆØ¹Ø²Ø§Ù‹)Ø› ÙØ§Ù„ØªÙƒØ¨Ø± ÙˆØ§Ù„Ø°Ù„ Ù„Ø§ ÙŠØ¬ØªÙ…Ø¹Ø§Ù† Ù…Ø¹ Ø§Ù„Ø¹Ø²ØŒ Ø§Ù„ØªØµØ­ÙŠØ­: (Ù…Ù‡Ø§Ù†Ø©)." },
        { q: "Ù…Ù† ÙŠØ·Ù„Ø¨ Ø§Ù„Ø¹Ù„Ù… Ù„Ù„Ø¬Ø§Ù‡ØŒ ÙÙ‚Ø¯ Ø¶Ù„ Ø¹Ù† Ø·Ø±ÙŠÙ‚ Ø§Ù„Ø­Ù‚ ÙˆØ§Ù„Ø¨Ø§Ø·Ù„.", opts: ["Ø§Ù„Ø¹Ù„Ù…", "Ù„Ù„Ø¬Ø§Ù‡", "Ø¶Ù„", "ÙˆØ§Ù„Ø¨Ø§Ø·Ù„"], a: "ÙˆØ§Ù„Ø¨Ø§Ø·Ù„", explain: "Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø®Ø§Ø·Ø¦Ø© (ÙˆØ§Ù„Ø¨Ø§Ø·Ù„)Ø› ÙÙ…Ù† ÙŠØ·Ù„Ø¨ Ø§Ù„Ø¹Ù„Ù… Ù„ØºÙŠØ± Ø§Ù„Ù„Ù‡ ÙÙ‚Ø¯ Ø¶Ù„ Ø¹Ù† Ø·Ø±ÙŠÙ‚ (Ø§Ù„Ø­Ù‚) ÙˆØ§Ù„Ù‡Ø¯Ù‰." },
        { q: "Ø§Ù„ÙˆÙ‚Øª ÙƒØ§Ù„Ø³ÙŠÙØŒ Ø¥Ù† Ù„Ù… ØªÙ‚Ø·Ø¹Ù‡ Ù‚Ø·Ø¹Ùƒ Ø¨Ø§Ù„ÙØ±Ø­.", opts: ["Ø§Ù„ÙˆÙ‚Øª", "ØªÙ‚Ø·Ø¹Ù‡", "Ù‚Ø·Ø¹Ùƒ", "Ø¨Ø§Ù„ÙØ±Ø­"], a: "Ø¨Ø§Ù„ÙØ±Ø­", explain: "Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø®Ø§Ø·Ø¦Ø© (Ø¨Ø§Ù„ÙØ±Ø­)Ø› ÙØ§Ù„ØªØµØ­ÙŠØ­ Ù‡Ùˆ (Ø¨Ø§Ù„Ù†Ø¯Ù…) Ø£Ùˆ (Ø¨Ø§Ù„Ø­Ø³Ø±Ø©)." },
        { q: "Ø§Ù„Ø¹Ù…Ù„ Ø¹Ø¨Ø§Ø¯Ø©ØŒ ÙˆØ§Ù„ÙƒØ³Ù„ Ø³Ø¹Ø§Ø¯Ø© ØªÙ…Ù†Ø¹ Ø§Ù„Ø±Ø²Ù‚.", opts: ["Ø¹Ø¨Ø§Ø¯Ø©", "Ø§Ù„ÙƒØ³Ù„", "Ø³Ø¹Ø§Ø¯Ø©", "Ø§Ù„Ø±Ø²Ù‚"], a: "Ø³Ø¹Ø§Ø¯Ø©", explain: "Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø®Ø§Ø·Ø¦Ø© (Ø³Ø¹Ø§Ø¯Ø©)Ø› ÙÙ…Ù† Ø§Ù„Ù…Ø³ØªØ­ÙŠÙ„ Ø£Ù† ÙŠÙƒÙˆÙ† Ø§Ù„ÙƒØ³Ù„ Ø³Ø¹Ø§Ø¯Ø© ÙˆÙ‡Ùˆ ÙŠÙ…Ù†Ø¹ Ø§Ù„Ø±Ø²Ù‚ØŒ Ø§Ù„ØªØµØ­ÙŠØ­ (Ø¢ÙØ©)." },
        { q: "Ù…Ù† Ø­ÙØ± Ø­ÙØ±Ø© Ù„Ø£Ø®ÙŠÙ‡ØŒ ÙˆÙ‚Ø¹ ÙÙŠ ÙØ®Ù‡Ø§ Ø³Ø¹ÙŠØ¯Ø§Ù‹.", opts: ["Ø­ÙØ±", "Ø­ÙØ±Ø©", "ÙØ®Ù‡Ø§", "Ø³Ø¹ÙŠØ¯Ø§Ù‹"], a: "Ø³Ø¹ÙŠØ¯Ø§Ù‹", explain: "Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø®Ø§Ø·Ø¦Ø© (Ø³Ø¹ÙŠØ¯Ø§Ù‹)Ø› ÙÙ…Ù† ÙŠÙ‚Ø¹ ÙÙŠ Ø´Ø± Ø£Ø¹Ù…Ø§Ù„Ù‡ ÙŠÙƒÙˆÙ† (Ø®Ø§Ø³Ø±Ø§Ù‹) Ø£Ùˆ Ù†Ø§Ø¯Ù…Ø§Ù‹." },
        { q: "Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø·ÙŠØ¨Ø© ØªÙØªØ­ Ø§Ù„Ø£Ø¨ÙˆØ§Ø¨ Ø§Ù„Ù…Ø´Ø±Ø¹Ø©.", opts: ["Ø§Ù„ÙƒÙ„Ù…Ø©", "Ø§Ù„Ø·ÙŠØ¨Ø©", "ØªÙØªØ­", "Ø§Ù„Ù…Ø´Ø±Ø¹Ø©"], a: "Ø§Ù„Ù…Ø´Ø±Ø¹Ø©", explain: "Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø®Ø§Ø·Ø¦Ø© (Ø§Ù„Ù…Ø´Ø±Ø¹Ø©)Ø› Ù„Ø£Ù† Ø§Ù„Ø£Ø¨ÙˆØ§Ø¨ Ø§Ù„Ù…Ø´Ø±Ø¹Ø© Ù…ÙØªÙˆØ­Ø© Ø£ØµÙ„Ø§Ù‹ØŒ Ø§Ù„ØªØµØ­ÙŠØ­ (Ø§Ù„Ù…ØºÙ„Ù‚Ø©)." },
        { q: "Ù…Ù† Ø¬Ø¯ ÙˆØ¬Ø¯ØŒ ÙˆÙ…Ù† Ø²Ø±Ø¹ Ø­ØµØ¯ Ø§Ù„Ù†Ø¯Ù….", opts: ["Ø¬Ø¯", "ÙˆØ¬Ø¯", "Ø²Ø±Ø¹", "Ø§Ù„Ù†Ø¯Ù…"], a: "Ø§Ù„Ù†Ø¯Ù…", explain: "Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø®Ø§Ø·Ø¦Ø© (Ø§Ù„Ù†Ø¯Ù…)Ø› ÙÙ…Ù† ÙŠØ²Ø±Ø¹ (ÙŠØ­ØµØ¯) Ø§Ù„Ø«Ù…Ø§Ø± ÙˆØ§Ù„Ù†Ø¬Ø§Ø­." },
        { q: "Ø§Ù„Ø¹Ù‚Ù„ Ø²ÙŠÙ†Ø© Ø§Ù„Ø¥Ù†Ø³Ø§Ù†ØŒ ÙˆØ§Ù„Ø¬Ù‡Ù„ Ø²ÙŠÙ†Ø© Ø§Ù„Ø­ÙŠÙˆØ§Ù†.", opts: ["Ø§Ù„Ø¹Ù‚Ù„", "Ø²ÙŠÙ†Ø©", "Ø§Ù„Ø¬Ù‡Ù„", "Ø§Ù„Ø­ÙŠÙˆØ§Ù†"], a: "Ø²ÙŠÙ†Ø© (Ø§Ù„Ø«Ø§Ù†ÙŠØ©)", explain: "Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø®Ø§Ø·Ø¦Ø© (Ø²ÙŠÙ†Ø©)Ø› ÙØ§Ù„Ø¬Ù‡Ù„ (Ù†Ù‚ÙŠØµØ©) Ø£Ùˆ Ø¹ÙŠØ¨ ÙˆÙ„Ø§ ÙŠÙƒÙˆÙ† Ø²ÙŠÙ†Ø© Ø£Ø¨Ø¯Ø§Ù‹." },
        { q: "Ø§Ù„Ø­ÙŠØ§Ø© Ù‚Ø·Ø§Ø± Ø³Ø±ÙŠØ¹ØŒ ÙˆØ§Ù„ÙØ±Øµ Ù…Ø­Ø·Ø§Øª Ù„Ø§ ØªØ¹ÙˆØ¯ Ø£Ø¨Ø¯Ø§Ù‹.", opts: ["Ø§Ù„Ø­ÙŠØ§Ø©", "Ø³Ø±ÙŠØ¹", "Ø§Ù„ÙØ±Øµ", "Ø£Ø¨Ø¯Ø§Ù‹"], a: "Ø£Ø¨Ø¯Ø§Ù‹", explain: "Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø®Ø§Ø·Ø¦Ø© (Ø£Ø¨Ø¯Ø§Ù‹)Ø› ÙØ§Ù„Ù…Ù‚ØµÙˆØ¯ Ø£Ù† Ø§Ù„ÙØ±Øµ Ù‚Ø¯ (ØªØªÙƒØ±Ø±) Ù„ÙƒÙ†Ù‡Ø§ ØªØ¶ÙŠØ¹ Ø¥Ø°Ø§ Ù„Ù… ØªØ³ØªØºÙ„ØŒ ÙˆØ§Ù„ØªØµØ­ÙŠØ­ Ù„ØºÙˆÙŠ Ù‡Ù†Ø§." },
        { q: "Ø§Ù„ØªØ¹Ù„Ù… ÙÙŠ Ø§Ù„ØµØºØ± ÙƒØ§Ù„ØºØ±Ø³ ÙÙŠ Ø§Ù„Ù…Ø§Ø¡.", opts: ["Ø§Ù„ØªØ¹Ù„Ù…", "Ø§Ù„ØµØºØ±", "ÙƒØ§Ù„ØºØ±Ø³", "Ø§Ù„Ù…Ø§Ø¡"], a: "Ø§Ù„Ù…Ø§Ø¡", explain: "Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø®Ø§Ø·Ø¦Ø© (Ø§Ù„Ù…Ø§Ø¡)Ø› ÙØ§Ù„Ø­ÙƒÙ…Ø© ØªÙ‚ÙˆÙ„ ÙƒØ§Ù„Ù†Ù‚Ø´ ÙÙŠ (Ø§Ù„Ø­Ø¬Ø±) Ù„Ø¨ÙŠØ§Ù† Ø§Ù„Ø±Ø³ÙˆØ®." },
        { q: "Ù…Ù† ÙŠØ·Ù„Ø¨ Ø§Ù„Ù…Ø¹Ø§Ù„ÙŠ Ø¨Ù„Ø§ Ø³Ù‡Ø±ØŒ Ø£Ø¯Ø±ÙƒÙ‡Ø§ Ø³Ø±ÙŠØ¹Ø§Ù‹.", opts: ["Ø·Ù„Ø¨", "Ø§Ù„Ù…Ø¹Ø§Ù„ÙŠ", "Ø£Ø¯Ø±ÙƒÙ‡Ø§", "Ø³Ø±ÙŠØ¹Ø§Ù‹"], a: "Ø³Ø±ÙŠØ¹Ø§Ù‹", explain: "Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø®Ø§Ø·Ø¦Ø© (Ø³Ø±ÙŠØ¹Ø§Ù‹)Ø› ÙÙ…Ù† Ù„Ø§ ÙŠØªØ¹Ø¨ (Ù„Ù† ÙŠØ¯Ø±ÙƒÙ‡Ø§) Ø£Ùˆ Ø³ÙŠØ¸Ù„ Ù…ÙƒØ§Ù†Ù‡." },
        { q: "Ø§Ù„Ù‚Ù†Ø§Ø¹Ø© ÙƒÙ†Ø²ØŒ ÙˆØ§Ù„Ø·Ù…Ø¹ ÙÙ‚Ø± Ø¯Ø§Ø¦Ù… ÙˆÙ…Ø±ÙŠØ­.", opts: ["Ø§Ù„Ù‚Ù†Ø§Ø¹Ø©", "ÙƒÙ†Ø²", "ÙÙ‚Ø±", "ÙˆÙ…Ø±ÙŠØ­"], a: "ÙˆÙ…Ø±ÙŠØ­", explain: "Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø®Ø§Ø·Ø¦Ø© (ÙˆÙ…Ø±ÙŠØ­)Ø› ÙØ§Ù„Ø·Ù…Ø¹ ÙÙ‚Ø± (Ù…Ø°Ù„) Ø£Ùˆ Ù…ØªØ¹Ø¨ Ù„Ù„Ù†ÙØ³." },
        { q: "Ø§Ù„ØµØ¯Ù‚ Ù…Ù†Ø¬Ø§Ø©ØŒ ÙˆØ§Ù„ÙƒØ°Ø¨ Ù…Ù‡Ù„ÙƒØ© ØªØ¬Ù„Ø¨ Ø§Ù„ÙÙˆØ².", opts: ["Ø§Ù„ØµØ¯Ù‚", "Ù…Ù†Ø¬Ø§Ø©", "Ù…Ù‡Ù„ÙƒØ©", "Ø§Ù„ÙÙˆØ²"], a: "Ø§Ù„ÙÙˆØ²", explain: "Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø®Ø§Ø·Ø¦Ø© (Ø§Ù„ÙÙˆØ²)Ø› ÙØ§Ù„Ù…Ù‡Ù„ÙƒØ© ØªØ¬Ù„Ø¨ (Ø§Ù„Ø®Ø³Ø±Ø§Ù†) Ø£Ùˆ Ø§Ù„Ø³Ù‚ÙˆØ·." },
        { q: "Ø§Ù„Ø£Ø®Ù„Ø§Ù‚ Ù‡ÙŠ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø°ÙŠ ÙŠÙ‚Ø±Ø£Ù‡ Ø§Ù„Ù†Ø§Ø³ ÙÙŠ Ù…Ù„Ø§Ù…Ø­Ùƒ Ø§Ù„Ù‚Ø¨ÙŠØ­Ø©.", opts: ["Ø§Ù„Ø£Ø®Ù„Ø§Ù‚", "Ø§Ù„Ø¹Ù†ÙˆØ§Ù†", "ÙŠÙ‚Ø±Ø£Ù‡", "Ø§Ù„Ù‚Ø¨ÙŠØ­Ø©"], a: "Ø§Ù„Ù‚Ø¨ÙŠØ­Ø©", explain: "Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø®Ø§Ø·Ø¦Ø© (Ø§Ù„Ù‚Ø¨ÙŠØ­Ø©)Ø› ÙØ§Ù„Ø£Ø®Ù„Ø§Ù‚ ØªÙ†Ø¹ÙƒØ³ ÙÙŠ Ø§Ù„Ù…Ù„Ø§Ù…Ø­ (Ø§Ù„Ø·ÙŠØ¨Ø©) Ø£Ùˆ Ø§Ù„ØªØµØ±ÙØ§Øª." },
        { q: "Ø§Ù„Ù†Ø¬Ø§Ø­ ÙŠØ¨Ø¯Ø£ Ø¨Ø®Ø·ÙˆØ© ÙˆØ§Ø­Ø¯Ø©ØŒ ÙˆØ§Ù„ÙØ´Ù„ ÙŠØ¨Ø¯Ø£ Ø¨Ø£Ù„Ù ØªØ±Ø§Ø¬Ø¹.", opts: ["Ø§Ù„Ù†Ø¬Ø§Ø­", "Ø¨Ø®Ø·ÙˆØ©", "Ø§Ù„ÙØ´Ù„", "ØªØ±Ø§Ø¬Ø¹"], a: "ØªØ±Ø§Ø¬Ø¹", explain: "Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø®Ø§Ø·Ø¦Ø© (ØªØ±Ø§Ø¬Ø¹)Ø› ÙØ§Ù„ØªØµØ­ÙŠØ­ (Ø®Ø·ÙˆØ©) Ø£ÙŠØ¶Ø§Ù‹ØŒ Ù„Ø¨ÙŠØ§Ù† Ø£Ù† ÙƒÙ„ Ø´ÙŠØ¡ ÙŠØ¨Ø¯Ø£ ØµØºÙŠØ±Ø§Ù‹." },
        { q: "Ø§Ù„Ø¹Ù„Ù… ÙŠØ±ÙØ¹ Ø¨ÙŠÙˆØªØ§Ù‹ Ù„Ø§ Ø¹Ù…Ø§Ø¯ Ù„Ù‡Ø§ØŒ ÙˆØ§Ù„Ø¬Ù‡Ù„ ÙŠÙ‡Ø¯Ù… Ø¨ÙŠÙˆØª Ø§Ù„Ø¹Ø² ÙˆØ§Ù„ÙƒØ±Ù… Ø§Ù„Ù‚ÙˆÙŠØ©.", opts: ["ÙŠØ±ÙØ¹", "Ø¹Ù…Ø§Ø¯", "Ø§Ù„Ø¹Ø²", "Ø§Ù„Ù‚ÙˆÙŠØ©"], a: "Ø§Ù„Ù‚ÙˆÙŠØ©", explain: "Ø§Ù„Ø¬Ù…Ù„Ø© Ø³Ù„ÙŠÙ…Ø© Ø³ÙŠØ§Ù‚ÙŠØ§Ù‹ØŒ ÙˆØ§Ù„Ø®Ø·Ø£ Ù‚Ø¯ ÙŠÙˆØ¶Ø¹ ÙÙŠ (ÙŠØ±ÙØ¹) Ø¥Ø°Ø§ Ø§Ø³ØªØ¨Ø¯Ù„Øª Ø¨Ù€ (ÙŠØ®ÙØ¶)." }
    ];

    let currentIdx = 0, score = 0, timer, timeLeft = 45, logs = [], activeQs = [], sName = "";

    function shuffle(arr) {
        for (let i = arr.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [arr[i], arr[j]] = [arr[j], arr[i]];
        }
        return arr;
    }

    function startQuizAction() {
        const input = document.getElementById('studentNameInput').value;
        if (!input.trim() || input.length < 3) { alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ Ù„Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ø¯ÙŠ"); return; }
        sName = input;
        activeQs = shuffle([...masterPool]); 
        document.getElementById('start-page').classList.add('hidden');
        document.getElementById('quiz-page').classList.remove('hidden');
        document.getElementById('current-student-display').innerText = "ğŸ‘¤ Ø§Ù„Ù…ØªØ­Ø¯ÙŠ: " + sName;
        loadQuestion();
    }

    function startTimer() {
        clearInterval(timer); timeLeft = 45;
        const tBox = document.getElementById('timer-box');
        const tVal = document.getElementById('timer-val');
        tBox.classList.remove('timer-pulse'); tVal.innerText = timeLeft;
        timer = setInterval(() => {
            timeLeft--; tVal.innerText = timeLeft;
            if (timeLeft <= 5) tBox.classList.add('timer-pulse');
            if (timeLeft <= 0) { clearInterval(timer); handleAns(null, null); }
        }, 1000);
    }

    function loadQuestion() {
        if (currentIdx >= activeQs.length) return endQuiz();
        const q = activeQs[currentIdx];
        document.getElementById('progress-text').innerText = `Ø³Ø¤Ø§Ù„ ${currentIdx + 1} Ù…Ù† ${activeQs.length}`;
        document.getElementById('question-display').innerText = q.q;
        document.getElementById('feedback-display').style.display = 'none';
        document.getElementById('next-btn').classList.add('hidden');
        const box = document.getElementById('options-container'); box.innerHTML = '';
        
        shuffle([...q.opts]).forEach(opt => {
            const div = document.createElement('div'); div.className = 'option'; div.innerText = opt;
            div.onclick = () => handleAns(opt, div); box.appendChild(div);
        });
        startTimer();
    }

    function handleAns(sel, el) {
        clearInterval(timer);
        document.getElementById('timer-box').classList.remove('timer-pulse');
        const q = activeQs[currentIdx];
        const opts = document.querySelectorAll('.option');
        opts.forEach(o => o.onclick = null);
        let isCorrect = (sel === q.a);
        if (isCorrect) { if(el) el.classList.add('correct-opt'); score++; }
        else { if(el) el.classList.add('wrong-opt'); opts.forEach(o => { if(o.innerText === q.a) o.classList.add('correct-opt'); }); }
        
        const fb = document.getElementById('feedback-display');
        fb.style.display = 'block';
        fb.innerHTML = `
            <div style="color: ${isCorrect ? 'green' : 'red'}; font-weight: bold; margin-bottom: 10px;">
                ${isCorrect ? 'âœ… Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©' : 'âŒ Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©'}
            </div>
            <strong>ğŸ” Ø§Ù„ØªÙˆØ¶ÙŠØ­ Ø§Ù„Ù…Ù‚Ù†Ø¹:</strong><br>
            ${q.explain}<br><br>
            <small>âœ¨ Ø£ / Ø¹Ø¨Ø¯Ø§Ù„Ø¹Ø²ÙŠØ² Ø§Ù„ÙÙŠÙÙŠ - Ø«Ø§Ù†ÙˆÙŠØ© Ø§Ù„Ø£Ù…ÙŠØ± Ø¹Ø¨Ø¯Ø§Ù„Ù…Ø¬ÙŠØ¯ ğŸ“</small>
        `;
        document.getElementById('next-btn').classList.remove('hidden');
        logs.push({ q: q.q, user: sel || "Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª â°", correct: q.a });
    }

    function loadNextQuestion() { currentIdx++; loadQuestion(); }

    function endQuiz() {
        document.getElementById('quiz-page').classList.add('hidden');
        document.getElementById('result-page').classList.remove('hidden');
        document.getElementById('score-display').innerText = `Ø§Ù„Ø¯Ø±Ø¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©: ${score} Ù…Ù† ${activeQs.length}`;
        document.getElementById('final-student-name').innerText = `Ø¨Ø·Ù„ Ø§Ù„ØªØ­Ø¯ÙŠ: ${sName}`;
        const tbody = document.getElementById('summary-body');
        logs.forEach(l => {
            tbody.innerHTML += `<tr><td>${l.q}</td><td style="color:${l.user === l.correct ? 'green':'red'}">${l.user}</td><td style="color:green; font-weight:bold">${l.correct}</td></tr>`;
        });
    }
</script>
</body>
</html>